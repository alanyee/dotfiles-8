#!/bin/sh
# generate a bunch of cmd aliases because windows is dumb
# $0 <alias file> <dir target>
# this should be used in a dir only used for these, because
# then you can clear it out

[ -z $1 ] && exit 1
[ -z $2 ] && exit 1

mkdir -p "$2"

cat "$1" | \
    grep alias | \
    sed 's/alias //' | \
    while read line; do
	name="$(echo "$line" | sed 's/=.*//')"
	value="$(echo "$line" | sed 's/.*=//')"
	# todo: trim ' from start, end of value
	echo "$value" \> "${2}/${name}.cmd"
	echo "$value" > "${2}/${name}.cmd"
	done
